@@style(io/reactors/debugger/css/vars.css)
@@style(io/reactors/debugger/lib/bootstrap/css/bootstrap.min.css)
@@style(io/reactors/debugger/css/bootstrap-overrides.css)
@@library(io/reactors/debugger/js/util.js)
@@library(io/reactors/debugger/lib/jquery/jquery-1.12.4.min.js)
@@library(io/reactors/debugger/lib/bootstrap/js/bootstrap.min.js)
@@library(io/reactors/debugger/lib/underscorejs/underscore-min.js)


<template id="x-vertical-tabber">
  <div class="x-vertical-tabber-root">
    <div class="panel panel-default x-vertical-tabber-panel">
      <div class="x-vertical-tabber-button-pane">
        <ul class="x-vertical-tabber-tabs">
          <li v-for="(index, panel) in panels"
            class="{{ active(index) }}"
            @click="onTabClick(index)">
            <span>
              {{{ panel.icon }}}
            </span>
          </li>
        </ul>
      </div>
      <div class="panel-body x-vertical-tabber-panel-body">
        <div v-show="selected == 0" transition="x-vertical-tabber-slot">
          <slot name="0"></slot>
        </div>
        <div v-show="selected == 1" transition="x-vertical-tabber-slot">
          <slot name="1"></slot>
        </div>
        <div v-show="selected == 2" transition="x-vertical-tabber-slot">
          <slot name="2"></slot>
        </div>
        <div v-show="selected == 3" transition="x-vertical-tabber-slot">
          <slot name="3"></slot>
        </div>
        <div v-show="selected == 4" transition="x-vertical-tabber-slot">
          <slot name="4"></slot>
        </div>
        <div v-show="selected == 5" transition="x-vertical-tabber-slot">
          <slot name="5"></slot>
        </div>
        <div v-show="selected == 6" transition="x-vertical-tabber-slot">
          <slot name="6"></slot>
        </div>
        <div v-show="selected == 7" transition="x-vertical-tabber-slot">
          <slot name="7"></slot>
        </div>
      </div>
    </div>
  </div>
</template>


<script>
  var VerticalTabber = Vue.extend({
    template: "#x-vertical-tabber",
    props: ["panels"],
    data: function() {
      return {
        uid: Uid.num(),
        selected: 0
      };
    },
    attached: function() {
    },
    methods: {
      active: function(i) {
        if (i == this.selected) {
          return "x-vertical-tabber-selected";
        } else {
          return "";
        }
      },
      onTabClick: function(i) {
        if (this.selected == i) this.selected = -1;
        else this.selected = i;
      }
    }
  });

  Vue.component("x-vertical-tabber", VerticalTabber);
</script>


<style type="text/css">
  .x-vertical-tabber-root {
    box-shadow: 0px 2px 3px 3px rgba(0,0,0,0.2);
    display: inline-block;
    height: 100%;
  }

  .x-vertical-tabber-panel {
    height: 100%;
  }

  .x-vertical-tabber-panel-body {
    height: 100%;
    display: inline-block;
    vertical-align: top;
  }

  ul.x-vertical-tabber-tabs {
    list-style: none;
    padding-left: 0px;
  }

  ul.x-vertical-tabber-tabs > li {
    background-color: var(--widget-background-color);
    padding: 4px;
    border-bottom: var(--widget-border);
    width: 27px;
    cursor: pointer;
    text-align: center;
    transition: all 0.25s ease-in-out;
  }

  ul.x-vertical-tabber-tabs > li:hover {
    background-color: var(--widget-background-color-hovered);
    border-bottom: var(--widget-border-bright);
    box-shadow: inset 0px 0px 3px 1px rgba(0,0,0,0.08);
  }

  ul.x-vertical-tabber-tabs > li.x-vertical-tabber-selected {
    background-color: var(--widget-background-color-selected);
    border-bottom: var(--widget-border-bright);
    box-shadow: inset 0px 0px 3px 1px rgba(0,0,0,0.08);
  }

  ul.x-vertical-tabber-tabs > li > span {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  .x-vertical-tabber-button-pane {
    height: 100%;
    display: inline-block;
    vertical-align: top;
    margin-right: -2px;
  }

  .x-vertical-tabber-slot-transition {
    transition: all .1s ease;
  }

  .x-vertical-tabber-slot-enter {
    opacity: 0;
  }

  .x-vertical-tabber-slot-leave {
    opacity: -0.5;
  }
</style>
